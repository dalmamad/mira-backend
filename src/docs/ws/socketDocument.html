<!DOCTYPE html> <html data-darkreader-mode=dynamic data-darkreader-scheme=dark style><!--
 Page saved with SingleFile 
 url: http://localhost:8429/page/23 
 saved date: Tue Apr 18 2023 17:01:30 GMT+0330 (Iran Standard Time)
--><meta charset=utf-8><style class="darkreader darkreader--user-agent" media=screen>.jfk-bubble.gtx-bubble,.captcheck_answer_label>input+img,span#closed_text>img[src^="https://www.gstatic.com/images/branding/googlelogo"],span[data-href^="https://www.hcaptcha.com/"]>#icon,#bit-notification-bar-iframe,::-webkit-calendar-picker-indicator{filter:invert(100%) hue-rotate(180deg) contrast(90%)!important}:root{--darkreader-neutral-background:#131516;--darkreader-neutral-text:#d8d4cf;--darkreader-selection-background:#004daa;--darkreader-selection-text:#e8e6e3}:root{}html{background-color:#181a1b!important}html{color-scheme:dark!important}html,body{background-color:#181a1b}html,body{border-color:#736b5e;color:#e8e6e3}a{color:#3391ff}::placeholder{color:#b2aba1}::-webkit-scrollbar{background-color:#202324;color:#aba499}::-webkit-scrollbar-thumb{background-color:#454a4d}::-webkit-scrollbar-thumb:hover{background-color:#575e62}::-webkit-scrollbar-thumb:active{background-color:#484e51}::-webkit-scrollbar-corner{background-color:#181a1b}::selection{background-color:#004daa!important;color:#e8e6e3!important}</style><title class=next-head>「socketDocument」</title><style>html,body,#__next,main{min-height:100vh;margin:0}:root{--foreground-color:#24292e;--background-color:#f6f8fa;--border-color:#d1d5da}body{--secondary-background-color:#f6f8fa}main{background-color:var(--secondary-background-color)}#page-ctn{margin:0 auto;max-width:900px;color:var(--foreground-color)}#page-header{display:flex;justify-content:space-between;padding:8px;background-color:var(--background-color);border-color:var(--border-color);border-style:solid;border-width:1px 1px 0;border-top-left-radius:3px;border-top-right-radius:3px;line-height:24px;font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}#page-header svg{display:inline-block;margin-right:5px;overflow:hidden;fill:currentColor}#page-header h3{display:flex;align-items:center;margin-top:0;margin-bottom:0;padding-right:16px;font-size:14px;font-weight:600}</style><style class="darkreader darkreader--sync" media=screen>:root{--darkreader-text--foreground-color:#cecac3;--darkreader-bg--background-color:#1c1e1f;--darkreader-border--border-color:#3c4143}body{--darkreader-bg--secondary-background-color:#1c1e1f}main{background-color:var(--darkreader-bg--secondary-background-color)}#page-ctn{color:var(--darkreader-text--foreground-color)}#page-header{background-color:var(--darkreader-bg--background-color);border-color:var(--darkreader-border--border-color)}#page-header svg{fill:currentcolor}</style><style>:root{--color-text-primary:#333;--color-text-tertiary:#777;--color-text-link:#4078c0;--color-bg-primary:#fff;--color-bg-secondary:#fafbfc;--color-bg-tertiary:#f8f8f8;--color-border-primary:#ddd;--color-border-secondary:#eaecef;--color-border-tertiary:#d1d5da;--color-kbd-foreground:#444d56;--color-markdown-blockquote-border:#dfe2e5;--color-markdown-table-border:#dfe2e5;--color-markdown-table-tr-border:#c6cbd1;--color-markdown-code-bg:#1b1f230d}.markdown-body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";font-size:16px;color:var(--color-text-primary);line-height:1.6;word-wrap:break-word;padding:45px;background:var(--color-bg-primary);border:1px solid var(--color-border-primary);-webkit-border-radius:0 0 3px 3px;border-radius:0 0 3px 3px}.markdown-body>*:first-child{margin-top:0!important}.markdown-body>*:last-child{margin-bottom:0!important}.markdown-body *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.markdown-body h1,.markdown-body h2,.markdown-body h3{margin-top:1em;margin-bottom:16px;font-weight:bold}.markdown-body h1 .anchor,.markdown-body h2 .anchor,.markdown-body h3 .anchor{margin-left:-24px;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{visibility:visible}.markdown-body p,.markdown-body ul,.markdown-body pre{margin-top:0;margin-bottom:16px}.markdown-body h1{margin:0.67em 0;padding-bottom:0.3em;font-size:2.25em;line-height:1.2;border-bottom:1px solid var(--color-border-secondary)}.markdown-body h2{padding-bottom:0.3em;font-size:1.75em;line-height:1.225;border-bottom:1px solid var(--color-border-secondary)}.markdown-body h3{font-size:1.5em;line-height:1.43}.markdown-body ul{padding-left:2em}.markdown-body ul{list-style-type:disc}.markdown-body pre{word-wrap:normal;padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:var(--color-bg-tertiary);-webkit-border-radius:3px;border-radius:3px}.markdown-body pre code{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;font-size:100%;line-height:inherit;word-wrap:normal;white-space:pre;border:0;-webkit-border-radius:3px;border-radius:3px;background-color:transparent}.markdown-body pre code:before,.markdown-body pre code:after{content:normal}.markdown-body code{font-family:Consolas,"Liberation Mono",Menlo,Courier,monospace;padding:0;padding-top:0.2em;padding-bottom:0.2em;margin:0;font-size:85%;background-color:var(--color-markdown-code-bg);-webkit-border-radius:3px;border-radius:3px}.markdown-body code:before,.markdown-body code:after{letter-spacing:-0.2em;content:" "}.markdown-body a{color:var(--color-text-link);text-decoration:none;background:transparent}.markdown-body strong{font-weight:bold}</style><style class="darkreader darkreader--sync" media=screen>:root{--darkreader-text--color-text-primary:#c8c3bc;--darkreader-text--color-text-tertiary:#9d9488;--darkreader-text--color-text-link:#5390c6;--darkreader-bg--color-bg-primary:#181a1b;--darkreader-bg--color-bg-secondary:#1a1c1e;--darkreader-bg--color-bg-tertiary:#1c1e1f;--darkreader-border--color-border-primary:#3a3e41;--darkreader-border--color-border-secondary:#353a3c;--darkreader-bg--color-border-tertiary:#2f3335;--darkreader-border--color-border-tertiary:#3c4143;--darkreader-text--color-kbd-foreground:#b7b1a8;--darkreader-border--color-markdown-blockquote-border:#383d3f;--darkreader-border--color-markdown-table-border:#383d3f;--darkreader-border--color-markdown-table-tr-border:#3f4446;--darkreader-bg--color-markdown-code-bg:rgba(22,25,28,0.05)}.markdown-body{color:var(--darkreader-text--color-text-primary);background:var(--darkreader-bg--color-bg-primary);border:1px solid var(--darkreader-border--color-border-primary)}.markdown-body h1{border-bottom:1px solid var(--darkreader-border--color-border-secondary)}.markdown-body h2{border-bottom:1px solid var(--darkreader-border--color-border-secondary)}.markdown-body pre{background-color:var(--darkreader-bg--color-bg-tertiary)}.markdown-body pre code{border-color:initial;background-color:transparent}.markdown-body code{background-color:var(--darkreader-bg--color-markdown-code-bg)}.markdown-body a{color:var(--darkreader-text--color-text-link);text-decoration-color:initial;background-image:initial;background-color:transparent}</style><style>:root{--color-text-primary:#333}.hljs{display:block;overflow-x:auto;color:var(--color-text-primary);background:#f8f8f8}.hljs-comment{color:#998;font-style:italic}.hljs-keyword{color:var(--color-text-primary);font-weight:bold}.hljs-number,.hljs-literal{color:#008080}.hljs-string{color:#d14}.hljs-built_in{color:#0086b3}</style><style class="darkreader darkreader--sync" media=screen>:root{--darkreader-text--color-text-primary:#c8c3bc}.hljs{color:var(--darkreader-text--color-text-primary);background-image:initial;background-color:rgb(28,30,31)}.hljs-comment{color:rgb(162,154,142)}.hljs-keyword{color:var(--darkreader-text--color-text-primary)}.hljs-number,.hljs-literal{color:rgb(114,255,255)}.hljs-string{color:rgb(239,53,100)}.hljs-built_in{color:rgb(79,211,255)}</style><style>body{counter-reset:katexEqnNo mmlEqnNo}</style><meta name=darkreader content=4871ffe971e74ca69b6568919f5960c8><style class="darkreader darkreader--override" media=screen>::placeholder{opacity:0.5!important}</style><link rel="shortcut icon" type=image/ico href="data:image/x-icon;base64,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" class=next-head><link rel=canonical href=http://localhost:8429/page/23><meta http-equiv=content-security-policy content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;"><style>img[src="data:,"],source[src="data:,"]{display:none!important}</style><body><div id=__next><main><div id=page-ctn contenteditable=false><header id=page-header><h3><svg viewBox="0 0 16 16" version=1.1 width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"></path></svg>socketDocument</h3></header><section class=markdown-body><h1 id=websocket-document class=source-line data-source-line=0><a class=anchor href=#websocket-document><svg class="octicon octicon-link" viewBox="0 0 16 16" version=1.1 width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> WebSocket Document</h1>
<h2 id=connection-and-authentication class=source-line data-source-line=2><a class=anchor href=#connection-and-authentication><svg class="octicon octicon-link" viewBox="0 0 16 16" version=1.1 width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Connection and Authentication</h2>
<p class=source-line data-source-line=4>to connect to server you need to send <code>token</code> for authentication.
for example in react:</p>
<pre class=hljs><code><span class=hljs-keyword>import</span> { io } <span class=hljs-keyword>from</span> <span class=hljs-string>'socket.io-client'</span>;

<span class=hljs-keyword>const</span> token =
  <span class=hljs-string>'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJjbGdnY3NvMzAwMDAwNTU3MXplb2g4d21wIiwiaWF0IjoxNjgxNDY4MDU5LjY1OCwiZXhwIjoxNjgyNzY0MDU5LjY1OH0.3WjIumF-HALlasR6OpstzzZFdnDeNzQcYlwwrzmv7MQ'</span>;
<span class=hljs-keyword>const</span> URL = <span class=hljs-string>'http://localhost:3040'</span>;

<span class=hljs-keyword>const</span> socket = io(URL, { <span class=hljs-attr>auth</span>: { token } });
</code></pre>
<h2 id=connection-error class=source-line data-source-line=17><a class=anchor href=#connection-error><svg class="octicon octicon-link" viewBox="0 0 16 16" version=1.1 width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Connection Error</h2>
<p class=source-line data-source-line=19>to handle connection error:</p>
<pre class=hljs><code>socket.on(<span class=hljs-string>'connect_error'</span>, <span class=hljs-function>(<span class=hljs-params>err</span>) =&gt;</span> {
  <span class=hljs-built_in>console</span>.log(err.message);
});
</code></pre>
<h2 id=listening-to-events class=source-line data-source-line=27><a class=anchor href=#listening-to-events><svg class="octicon octicon-link" viewBox="0 0 16 16" version=1.1 width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Listening to Events</h2>
<p class=source-line data-source-line=29>after connection was established you can listen to events.</p>
<ul>
<li class=source-line data-source-line=31>
<h3 id=on(%E2%80%98%2Fmsg%E2%80%99) class=source-line data-source-line=31><a class=anchor href=#on(%E2%80%98%2Fmsg%E2%80%99)><svg class="octicon octicon-link" viewBox="0 0 16 16" version=1.1 width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> on(‘/msg’)</h3>
<strong>description:</strong> this listener is responsible for receiving new messages.</li>
</ul>
<pre class=hljs><code><span class=hljs-comment>// data explanation</span>
<span class=hljs-keyword>const</span> payload = {
  <span class=hljs-attr>description</span>: <span class=hljs-string>' data that has been sent to this user'</span>,
  <span class=hljs-attr>type</span>: <span class=hljs-string>'object'</span>,
  <span class=hljs-attr>properties</span>: {
    <span class=hljs-attr>senderId</span>: {
      <span class=hljs-attr>description</span>: <span class=hljs-string>'id of user who sent message'</span>,
      <span class=hljs-attr>type</span>: <span class=hljs-string>'string'</span>,
      <span class=hljs-attr>example</span>: <span class=hljs-string>'clggcswxk00065571e5zv0dnt'</span>,
    },
    <span class=hljs-attr>recipientId</span>: {
      <span class=hljs-attr>description</span>: <span class=hljs-string>'id of user who is listening to this event'</span>,
      <span class=hljs-attr>type</span>: <span class=hljs-string>'string'</span>,
      <span class=hljs-attr>example</span>: <span class=hljs-string>'clggcsuva00045571o1umbym0'</span>,
    },
    <span class=hljs-attr>content</span>: {
      <span class=hljs-attr>description</span>: <span class=hljs-string>'message which has been sent for user'</span>,
      <span class=hljs-attr>type</span>: <span class=hljs-string>'string'</span>,
      <span class=hljs-attr>example</span>: <span class=hljs-string>'how are you?'</span>,
    },
  },
};

<span class=hljs-comment>// Example</span>
socket.on(<span class=hljs-string>'/msg'</span>, <span class=hljs-function>(<span class=hljs-params>payload</span>) =&gt;</span> {
  <span class=hljs-keyword>const</span> { content, senderId, recipientId } = payload;
  <span class=hljs-built_in>console</span>.log(<span class=hljs-string>'Message: '</span>, content);
});
</code></pre>
<h2 id=emitting-events class=source-line data-source-line=65><a class=anchor href=#emitting-events><svg class="octicon octicon-link" viewBox="0 0 16 16" version=1.1 width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Emitting Events</h2>
<p class=source-line data-source-line=67>after connection was established you can send message.</p>
<ul>
<li class=source-line data-source-line=69>
<h3 id=emit(%E2%80%98%2Fmessage%2Fpv%E2%80%99) class=source-line data-source-line=69><a class=anchor href=#emit(%E2%80%98%2Fmessage%2Fpv%E2%80%99)><svg class="octicon octicon-link" viewBox="0 0 16 16" version=1.1 width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> emit(‘/message/pv’)</h3>
<p class=source-line data-source-line=71><strong>description:</strong> this is used to send message to another user.</p>
<pre class=hljs><code><span class=hljs-comment>// payload explanation</span>
<span class=hljs-keyword>const</span> payload = {
  <span class=hljs-attr>description</span>: <span class=hljs-string>'data that this user send to the server'</span>,
  <span class=hljs-attr>type</span>: <span class=hljs-string>'object'</span>,
  <span class=hljs-attr>properties</span>: {
    <span class=hljs-attr>senderId</span>: {
      <span class=hljs-attr>description</span>: <span class=hljs-string>'id of user who sent message'</span>,
      <span class=hljs-attr>type</span>: <span class=hljs-string>'string'</span>,
      <span class=hljs-attr>example</span>: <span class=hljs-string>'clggcswxk00065571e5zv0dnt'</span>,
    },
    <span class=hljs-attr>recipientId</span>: {
      <span class=hljs-attr>description</span>: <span class=hljs-string>'id of user who is listening to this event'</span>,
      <span class=hljs-attr>type</span>: <span class=hljs-string>'string'</span>,
      <span class=hljs-attr>example</span>: <span class=hljs-string>'clggcsuva00045571o1umbym0'</span>,
    },
    <span class=hljs-attr>content</span>: {
      <span class=hljs-attr>description</span>: <span class=hljs-string>'message which has been sent for user'</span>,
      <span class=hljs-attr>type</span>: <span class=hljs-string>'string'</span>,
      <span class=hljs-attr>example</span>: <span class=hljs-string>'how are you?'</span>,
    },
  },
  <span class=hljs-attr>required</span>: [<span class=hljs-string>'senderId'</span>, <span class=hljs-string>'recipientId'</span>, <span class=hljs-string>'content'</span>],
};

<span class=hljs-comment>// response explanation</span>
<span class=hljs-comment>// server also send a response as and Acknowledgements</span>
<span class=hljs-keyword>const</span> responses = {
  <span class=hljs-attr>ifSuccessfull</span>: {
    <span class=hljs-attr>description</span>: <span class=hljs-string>'if message was successfully send this response will return'</span>,
    <span class=hljs-attr>type</span>: <span class=hljs-string>'obj'</span>,
    <span class=hljs-attr>properties</span>: {
      <span class=hljs-attr>status</span>: {
        <span class=hljs-attr>value</span>: <span class=hljs-literal>true</span>,
        <span class=hljs-attr>description</span>: <span class=hljs-string>'message successfully saved into the server'</span>,
      },
      <span class=hljs-attr>received</span>: {
        <span class=hljs-attr>type</span>: <span class=hljs-string>'boolean'</span>,
        <span class=hljs-attr>description</span>:
          <span class=hljs-string>'if true means was sent to user. if false means user did not received message and receive as soon as connect to server'</span>,
      },
    },
  },
  <span class=hljs-attr>error</span>: {
    <span class=hljs-attr>description</span>: <span class=hljs-string>'message was not accepted and did not saved into the server'</span>,
    <span class=hljs-attr>type</span>: <span class=hljs-string>'object'</span>,
    <span class=hljs-attr>properties</span>: {
      <span class=hljs-attr>status</span>: {
        <span class=hljs-attr>value</span>: <span class=hljs-literal>false</span>,
      },
      <span class=hljs-attr>err</span>: {
        <span class=hljs-attr>type</span>: <span class=hljs-string>'obj'</span>,
        <span class=hljs-attr>properties</span>: {
          <span class=hljs-attr>msg</span>: {
            <span class=hljs-attr>type</span>: <span class=hljs-string>'string'</span>,
            <span class=hljs-attr>description</span>: <span class=hljs-string>'error message sent by sever'</span>,
            <span class=hljs-attr>example</span>: <span class=hljs-string>'Internal Server Error'</span>,
          },
          <span class=hljs-attr>statusCode</span>: {
            <span class=hljs-attr>description</span>: <span class=hljs-string>'similar to http status codes'</span>,
            <span class=hljs-attr>type</span>: <span class=hljs-string>'integer'</span>,
            <span class=hljs-attr>example</span>: <span class=hljs-number>400</span>,
          },
        },
      },
    },
  },
};
<span class=hljs-comment>// Example</span>
<span class=hljs-keyword>const</span> payload = {
  <span class=hljs-attr>content</span>: <span class=hljs-string>'how are you?'</span>,
  <span class=hljs-attr>recipientId</span>: <span class=hljs-string>'clggcsuva00045571o1umbym0'</span>,
};
socket.emit(<span class=hljs-string>'/message/pv'</span>, payload, <span class=hljs-function>(<span class=hljs-params>response</span>) =&gt;</span> {
  <span class=hljs-keyword>if</span> (!response.status) <span class=hljs-built_in>console</span>.log(response.err.msg);
});
</code></pre>
</li>
</ul>
<h2 id=example class=source-line data-source-line=151><a class=anchor href=#example><svg class="octicon octicon-link" viewBox="0 0 16 16" version=1.1 width=16 height=16 aria-hidden=true><path fill-rule=evenodd d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a> Example</h2>
<pre class=hljs><code><span class=hljs-keyword>import</span> { io } <span class=hljs-keyword>from</span> <span class=hljs-string>'socket.io-client'</span>;

<span class=hljs-keyword>const</span> token =
  <span class=hljs-string>'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJjbGdnY3NvMzAwMDAwNTU3MXplb2g4d21wIiwiaWF0IjoxNjgxNDY4MDU5LjY1OCwiZXhwIjoxNjgyNzY0MDU5LjY1OH0.3WjIumF-HALlasR6OpstzzZFdnDeNzQcYlwwrzmv7MQ'</span>;
<span class=hljs-keyword>const</span> URL = <span class=hljs-string>'http://localhost'</span>;

<span class=hljs-keyword>const</span> socket = io(URL, { <span class=hljs-attr>auth</span>: { token } });

socket.on(<span class=hljs-string>'connect_error'</span>, <span class=hljs-function>(<span class=hljs-params>err</span>) =&gt;</span> {
  <span class=hljs-built_in>console</span>.log(err.message);
});

socket.on(<span class=hljs-string>'/msg'</span>, <span class=hljs-function>(<span class=hljs-params>payload</span>) =&gt;</span> {
  <span class=hljs-keyword>const</span> { content, senderId, recipientId } = payload;
  <span class=hljs-built_in>console</span>.log(<span class=hljs-string>'Message: '</span>, content);
});

<span class=hljs-keyword>const</span> payload = {
  <span class=hljs-attr>content</span>: <span class=hljs-string>'how are you?'</span>,
  <span class=hljs-attr>recipientId</span>: <span class=hljs-string>'clggcsuva00045571o1umbym0'</span>,
};
socket.emit(<span class=hljs-string>'/message/pv'</span>, payload, <span class=hljs-function>(<span class=hljs-params>response</span>) =&gt;</span> {
  <span class=hljs-keyword>if</span> (!response.status) <span class=hljs-built_in>console</span>.log(response.err.msg);
});
</code></pre>
</section></div></main></div>